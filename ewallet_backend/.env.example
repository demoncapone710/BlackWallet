# BlackWallet Backend Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================
# Application Settings
# ============================================
APP_NAME=BlackWallet API
APP_VERSION=1.0.0
DEBUG=False
ENVIRONMENT=production  # development, staging, production

# ============================================
# Server Settings
# ============================================
HOST=0.0.0.0
PORT=8000
WORKERS=4  # Number of Gunicorn workers (CPU cores * 2 + 1)

# ============================================
# Database Settings
# ============================================
# Development (SQLite)
# DATABASE_URL=sqlite:///./blackwallet.db

# Production (PostgreSQL)
DATABASE_URL=postgresql://username:password@localhost:5432/blackwallet

# Connection Pooling
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# ============================================
# Security Settings
# ============================================
# Generate a strong secret key:
# python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-super-secret-key-change-this-in-production

# JWT Settings
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_AUTH_PER_MINUTE=5

# ============================================
# CORS Settings
# ============================================
# Comma-separated list of allowed origins
# For development: ["http://localhost:3000","http://localhost:8080"]
# For production: ["https://yourdomain.com"]
CORS_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# ============================================
# Redis Settings
# ============================================
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=True

# ============================================
# Logging Settings
# ============================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text
LOG_FILE=logs/blackwallet.log

# ============================================
# Monitoring Settings
# ============================================
# Sentry Error Tracking (Optional)
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_ENVIRONMENT=production

# Prometheus Metrics
PROMETHEUS_ENABLED=True

# ============================================
# Backup Settings
# ============================================
BACKUP_ENABLED=True
BACKUP_INTERVAL_HOURS=6
BACKUP_RETENTION_DAYS=30
BACKUP_DIRECTORY=backups

# ============================================
# SSL/TLS Settings
# ============================================
SSL_ENABLED=True
SSL_CERT_FILE=
SSL_KEY_FILE=

# ============================================
# Email Settings (SMTP)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@blackwallet.com
SMTP_FROM_NAME=BlackWallet

# ============================================
# SMS Settings (Twilio) - Optional
# ============================================
# Get your credentials from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=your_account_sid
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# Stripe Payment Settings
# ============================================
# Get your keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# For production use live keys:
# STRIPE_SECRET_KEY=sk_live_...
# STRIPE_PUBLISHABLE_KEY=pk_live_...

# ============================================
# IP Whitelist for Admin Routes
# ============================================
# Comma-separated list of allowed IPs
# Example: ["127.0.0.1","192.168.1.100"]
ADMIN_IP_WHITELIST=["127.0.0.1"]

# ============================================
# Additional Security Settings
# ============================================
# Minimum password length
MIN_PASSWORD_LENGTH=8

# Session timeout (minutes)
SESSION_TIMEOUT=60

# Max login attempts before lockout
MAX_LOGIN_ATTEMPTS=5

# Account lockout duration (minutes)
LOCKOUT_DURATION=30
